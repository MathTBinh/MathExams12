<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="Chuyên Đề THI TOÁN - Chuyên Đề SỐ 3 với 22 câu hỏi trắc nghiệm và lời giải chi tiết, kèm tóm tắt kiến thức." name="description"/>
<title>Chuyên Đề THI TOÁN - Chuyên Đề 3 - KHÓA HỌC TOÁN THẦY BÌNH</title>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
<style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #ecfdf5, #f3e8ff);
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .header {
            position: sticky;
            top: 0;
            background: white;
            padding: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 1000;
            margin-bottom: 17px;
            border-radius: 10px;
            text-align: center;
        }
        .header .logo {
            font-size: 1.2rem;
            font-weight: bold;
            color: #6b21a8;
        }
        .nav-bar {
         position: sticky;
  top: 0;
  background-color: #c62828;   
  color: #fff176;    
  padding: 4px 10px;
  height: 40px;
  font-size: 14px;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

        .nav-bar a {
            color: #fff176;
            margin-right: 15px;
            text-decoration: none;
            font-weight: 700;
        }
        .nav-bar a:hover {
            color: #10b981;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-button {
            background: #6b21a8;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            transition: background 0.3s;
        }
        .dropdown-button:hover {
            background: #5b1a8b;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background: white;
            min-width: 100px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 10px;
            right: 0;
        }
        .dropdown-content a {
            color: #6b21a8;
            padding: 8px 16px;
            text-decoration: none;
            display: block;
            font-weight: 400;
        }
        .dropdown-content a:hover {
            background: #f0fdf4;
            color: #10b981;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-8px);
        }
        h1 {
            color: #6b21a8;
            text-align: center;
            font-size: 2rem;
            margin-bottom: 30px;
        }
        h2 {
            color: #10b981;
            font-size: 2rem;
            margin-bottom: 15px;
        }
        h3 {
            color: #c62828;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        .summary-box {
             background-color: #0b3a2e;
            color: #ffffff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 5px solid #ef4444;
        }
        .options {
            margin: 10px 0;
        }
        .option {
            margin: 5px 0;
        }
        .answer-check {
            margin-top: 10px;
        }
        .answer-check button {
            padding: 12px 24px;
            background: #6b21a8;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .answer-check button:hover {
            background: #5b1a8b;
        }
        .answer-feedback {
            margin-top: 10px;
            font-weight: bold;
        }
        .correct {
            color: #22c55e;
        }
        .incorrect {
            color: #ef4444;
        }
        .solution {
         background-color: #0b3a2e;
        color: #ffffff;
         font-family: 'Courier New', 'Segoe Script', cursive;
         padding: 10px;
        margin-top: 5px;
        border-radius: 8px;
        border: 1px solid #0a2e23;
        box-shadow: 2px 2px 8px rgba(0,0,0,0.4);
        display: none;
        max-width: 1000px;
        min-height: 500px;
        white-space: pre-wrap;
        line-height: 1.0;
         }
       
        .solution.visible {
         display: block;
         }

        .solution-toggle {
         margin-left: 10px;
         padding: 4px 10px;
         cursor: pointer;
        background-color: #0b3a2e;
        color: white;
         border: 1px solid white;
        border-radius: 4px;
        }

        .solution-toggle:hover {
         background-color: #145a47;
        }
        
        .hot {
            color: #ef4444;
            font-weight: bold;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        table, th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        th {
            background: #6b21a8;
            color: white;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        .navigation button {
            padding: 12px 24px;
            background: #6b21a8;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .navigation button:hover {
            background: #5b1a8b;
        }
        .navigation button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        @media (max-width: 640px) {
            h1 { font-size: 1.6rem; }
            h2 { font-size: 1.6rem; }
            h3 { font-size: 1.3rem; }
            .card { padding: 15px; }
            .header .logo { font-size: 1.4rem; }
            .nav-bar { top: 50px; flex-direction: column; align-items: flex-start; }
            .nav-bar a { font-size: 0.9rem; margin-right: 10px; }
            .dropdown-button { font-size: 0.9rem; padding: 6px 12px; }
            .dropdown-content { min-width: 80px; }
            table { font-size: 0.85rem; }
            .answer-check button, .navigation button {
                padding: 8px 16px;
                font-size: 0.9rem;
            }
            .score-section {
    background-color: #ecfdf5;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
    text-align: center;
}

#score-result {
    margin-top: 10px;
    font-weight: bold;
}

#score-result.correct {
    color: #22c55e;
}

#score-result.incorrect {
    color: #ef4444;
}
        }
    
.question img, .solution img {
    display: block;
    margin: 10px auto;
    width: 400px;
    height: 300px;
    object-fit: contain;
    object-position: center;
    background: white;
}
.question img.long-image, .solution img.long-image {
    height: auto;
    max-width: 100%;
}

.question img, .solution img {
    display: block;
    margin: 5px auto; /* Giảm khoảng cách */
    width: 300px; /* Giảm chiều rộng */
    height: 100px; /* Giảm chiều cao */
    object-fit: contain;
    object-position: center;
    background: white;
}
.question img.long-image, .solution img.long-image {
    height: auto;
    max-width: 100%; /* Đảm bảo vừa với màn hình nhỏ */
}
.question img:not([src]), .solution img:not([src]),
.question img[src=''], .solution img[src=''],
.question img[onerror], .solution img[onerror] {
    display: none !important; /* Ẩn ảnh không tồn tại */
}
@media (max-width: 640px) {
    .question img, .solution img {
        width: 100%; /* Chiều rộng 100% trên di động */
        height: auto; /* Chiều cao tự động */
        margin: 3px auto; /* Giảm thêm khoảng cách trên di động */
    }
    .question img.long-image, .solution img.long-image {
        max-width: 100%;
        height: auto;
    }
}

.question img, .solution img {
    display: block;
    margin: 5px auto; /* Khoảng cách trên laptop */
    width: 300px; /* Chiều rộng mặc định */
    height: 200px; /* Chiều cao mặc định */
    object-fit: contain;
    object-position: center;
    background: #0b3a2e;
}
.question img.long-image, .solution img.long-image {
    height: auto;
    max-width: 100%; /* Đảm bảo vừa với màn hình nhỏ */
}
.question img:not([src]), .solution img:not([src]),
.question img[src=''], .solution img[src=''],
.question img[onerror], .solution img[onerror] {
    display: none !important; /* Ẩn ảnh không tồn tại */
}
@media (max-width: 640px) {
    .question img, .solution img {
        max-width: 100%; /* Thu nhỏ theo màn hình */
        width: auto; /* Tự động điều chỉnh chiều rộng */
        height: auto; /* Tự động điều chỉnh chiều cao */
        margin: 2px auto; /* Giảm khoảng cách trên di động */
    }
    .question img.long-image, .solution img.long-image {
        max-width: 100%;
        height: auto;
    }
}

.question img, .solution img {
    display: block;
    margin: 5px auto; /* Căn giữa và giữ khoảng cách nhỏ */
}
.question img.long-image, .solution img.long-image {
    height: auto;
    max-width: 100%; /* Giới hạn chiều rộng tối đa */
}
.question img:not([src]), .solution img:not([src]),
.question img[src=''], .solution img[src=''],
.question img[onerror], .solution img[onerror] {
    display: none !important; /* Ẩn ảnh không tồn tại */
}
@media (max-width: 640px) {
    .question img, .solution img {
        margin: 2px auto; /* Giảm khoảng cách trên di động */
    }
    .question img.long-image, .solution img.long-image {
        max-width: 100%;
        height: auto;
    }
}
.latex-solution {
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  font-family: Courier New, monospace;
  font-size: 18px;
  border-radius: 6px;
  padding: 6px;
}
/* thêm vẽ */
#drawCanvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9998;
  touch-action: none;
}


.toolbar {
  position: fixed;
  top: 100px;
  left: 10px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  padding: 6px;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 48px;
  align-items: center;
}
.toolbar button,
.toolbar select,
.toolbar input[type="color"],
.toolbar input[type="range"] {
  width: 100%;
  font-size: 10px;
  padding: 2px;
  height: 28px;
  box-sizing: border-box;
}

.floating-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 10001;
  background: #6b21a8;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 50px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
</style>
<style>
input[type="text"].short-answer {
  width: 120px;
  padding: 6px;
  background-color: #f0f9ff;
  border: 2px solid #ccc;
  border-radius: 4px;
  font-size: 16px;
  margin-right: 8px;
}
</style>
</head>
<!-- Canvas và thanh công cụ vẽ nổi -->
<canvas id="drawCanvas" style="display: none;"></canvas>
<div class="toolbar" id="drawToolbar" style="display: none;">
  <select id="tool">
    <option value="pen">✏️ Bút</option>
    <option value="line">📏 Đường</option>
    <option value="rect">⬛ Chữ nhật</option>
    <option value="circle">⚪ Tròn</option>
    <option value="cube">📦 Hộp</option>
<option value="cone">🔺 Nón</option>
<option value="cylinder">⬤ Trụ</option>
<option value="pyramid">🔻 Chóp</option>
<option value="sphere">⚽ Cầu</option>
  </select>
  
<input type="range" id="draw-width" min="1" max="5" value="2" />
  <input type="color" id="colorPicker" value="#6b21a8" />
  <button id="clearBtn">🧹 Xoá</button>
  <button id="saveBtn">💾 Lưu</button>
  <button id="exitBtn">❌ Thoát</button>
  
</div>
<button id="toggleDraw" class="floating-button">🖊️ Vẽ</button>
<body>
<div class="header">
<div class="logo">KHÓA HỌC TOÁN THẦY BÌNH</div>
</div>
<div class="nav-bar">
<div>
<a href="index.html">Trang chủ</a>
<a href="https://meet.google.com/hje-gfpk-erv">Học online </a>
</div>
<!-- Thêm phần ghi màn hình -->
    <div class="recording-controls" style="margin: 3px 0; padding: 5px; background-color: #f0f0f0; border-radius: 5px;">
        <button id="startRecording" style="padding: 3px 5px; margin: 0 5px; background-color: #4CAF50; color: white; border: none; border-radius: 3px;">Record</button>
        <button id="stopRecording" style="padding: 3px 5px; margin: 0 5px; background-color: #f44336; color: white; border: none; border-radius: 3px;">Stop</button>
        <button id="pauseRecording" style="padding: 3px 5px; margin: 0 5px; background-color: #ff9800; color: white; border: none; border-radius: 3px;">Pause</button>
        <video id="videoPreview" controls style="display: none; margin-top: 10px; width: 320px; height: 240px;"></video>
        <br>
        <a id="downloadLink" style="display: none; margin-top: 5px;">Download Video</a>
    </div>
<div class="dropdown">
<span class="dropdown-button">Chọn đề</span>
<div class="dropdown-content">
<!-- Tạo danh sách đề từ 1 đến 100 -->
<a href="de1.html">Đề 1</a>
<a href="de2.html">Đề 2</a>
<a href="de3.html">Đề 3</a>
<a href="de4.html">Đề 4</a>
<a href="de5.html">Đề 5</a>
<a href="de6.html">Đề 6</a>
<a href="de7.html">Đề 7</a>
<a href="de8.html">Đề 8</a>
<a href="de9.html">Đề 9</a>
<a href="de10.html">Đề 10</a>
<a href="de11.html">Đề 11</a>
<a href="de12.html">Đề 12</a>
<a href="de13.html">Đề 13</a>

</div>
</div>
</div>
<!--@@-->
<div class="container">
<h1>ĐỀ THI VỀ ĐÍCH - ĐỀ SỐ 2 <span class="hot">HOT</span></h1>
<h3>Phần I: Trắc Nghiệm Nhiều Lựa Chọn - từ câu 1 đến câu 12</h3>

<!-- Câu 1 -->
<div class="question" id="q1">
<div class="summary-box">
<p><strong>Câu 1</strong>. Cho đồ thị \( y = f(x) \) như hình vẽ dưới đây:<br/>
<img alt="" loading="lazy" src="data/anh2/3.1.png"/><br/>

Hàm số đã cho đồng biến trên khoảng nào trong các khoảng sau?</p>

<div class="options">
<label><input name="q1" onchange="showOptionIcon('q1', 'A', 'C')" type="radio" value="A"/> A. \( (-\infty ; 1) \)<span class="option-icon" id="icon-q1-A"></span></label>
<label><input name="q1" onchange="showOptionIcon('q1', 'B', 'C')" type="radio" value="B"/> B. \( (2 ; +\infty) \)<span class="option-icon" id="icon-q1-B"></span></label>
<label><input name="q1" onchange="showOptionIcon('q1', 'C', 'C')" type="radio" value="C"/> C. \( (0 ; 1) \)<span class="option-icon" id="icon-q1-C"></span></label>
<label><input name="q1" onchange="showOptionIcon('q1', 'D', 'C')" type="radio" value="D"/> D. \( (1 ; 2) \)<span class="option-icon" id="icon-q1-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q1', 'B')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q1')">Xem lời giải</button>
<div class="solution" id="solution-q1"></div>
</div>
</div>

<!-- Câu 2 -->
<div class="question" id="q2">
<div class="summary-box">
<p><strong>Câu 2</strong>. Trong không gian \( Oxyz \), cho mặt phẳng \( (P): 2x + y - z - 1 = 0 \). Vector nào dưới đây là một vector pháp tuyến của mặt phẳng \( (P) \)?</p>

<div class="options">
<label><input name="q2" onchange="showOptionIcon('q2', 'A', 'A')" type="radio" value="A"/> A. \( \overrightarrow{n_3} = (2 ; 1 ; -1) \)<span class="option-icon" id="icon-q2-A"></span></label>
<label><input name="q2" onchange="showOptionIcon('q2', 'B', 'A')" type="radio" value="B"/> B. \( \overrightarrow{n_1} = (2 ; -1 ; 1) \)<span class="option-icon" id="icon-q2-B"></span></label>
<label><input name="q2" onchange="showOptionIcon('q2', 'C', 'A')" type="radio" value="C"/> C. \( \overrightarrow{n_4} = (-2 ; 1 ; 1) \)<span class="option-icon" id="icon-q2-C"></span></label>
<label><input name="q2" onchange="showOptionIcon('q2', 'D', 'A')" type="radio" value="D"/> D. \( \overrightarrow{n_2} = (2 ; 1 ; 1) \)<span class="option-icon" id="icon-q2-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q2', 'A')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q2')">Xem lời giải</button>
<div class="solution" id="solution-q2"></div>
</div>
</div>

<!-- Câu 3 -->
<div class="question" id="q3">
<div class="summary-box">
<p><strong>Câu 3</strong>. Đường thẳng đi qua điểm \( A(1 ; -2 ; 0) \) và vuông góc với mặt phẳng \( x - 2y - 2z - 3 = 0 \) có phương trình chính tắc là:</p>

<div class="options">
<label><input name="q3" onchange="showOptionIcon('q3', 'A', 'C')" type="radio" value="A"/> A. \( \dfrac{x+1}{1} = \dfrac{y-2}{-2} = \dfrac{z}{-2} \)<span class="option-icon" id="icon-q3-A"></span></label>
<label><input name="q3" onchange="showOptionIcon('q3', 'B', 'C')" type="radio" value="B"/> B. \( \dfrac{x-1}{1} = \dfrac{y}{-2} = \dfrac{z+2}{-2} \)<span class="option-icon" id="icon-q3-B"></span></label>
<label><input name="q3" onchange="showOptionIcon('q3', 'C', 'C')" type="radio" value="C"/> C. \( \dfrac{x-1}{1} = \dfrac{y+2}{-2} = \dfrac{z}{-2} \)<span class="option-icon" id="icon-q3-C"></span></label>
<label><input name="q3" onchange="showOptionIcon('q3', 'D', 'C')" type="radio" value="D"/> D. \( \dfrac{x-1}{1} = \dfrac{y+2}{2} = \dfrac{z}{2} \)<span class="option-icon" id="icon-q3-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q3', 'C')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q3')">Xem lời giải</button>
<div class="solution" id="solution-q3"></div>
</div>
</div>

<!-- Câu 4 -->
<div class="question" id="q4">
<div class="summary-box">
<p><strong>Câu 4</strong>. Biết \( \int_1^3 f(x) \, dx = 5 \) và \( \int_1^3 g(x) \, dx = -7 \). Giá trị của \( \int_1^3 [3f(x) - 2g(x)] \, dx \) bằng:</p>

<div class="options">
<label><input name="q4" onchange="showOptionIcon('q4', 'A', 'B')" type="radio" value="A"/> A. -31<span class="option-icon" id="icon-q4-A"></span></label>
<label><input name="q4" onchange="showOptionIcon('q4', 'B', 'B')" type="radio" value="B"/> B. 29<span class="option-icon" id="icon-q4-B"></span></label>
<label><input name="q4" onchange="showOptionIcon('q4', 'C', 'B')" type="radio" value="C"/> C. 1<span class="option-icon" id="icon-q4-C"></span></label>
<label><input name="q4" onchange="showOptionIcon('q4', 'D', 'B')" type="radio" value="D"/> D. -29<span class="option-icon" id="icon-q4-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q4', 'B')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q4')">Xem lời giải</button>
<div class="solution" id="solution-q4"></div>
</div>
</div>

<!-- Câu 5 -->
<div class="question" id="q5">
<div class="summary-box">
<p><strong>Câu 5</strong>. Nghiệm của phương trình \( \log_2(x-1) = 3 \) là:</p>

<div class="options">
<label><input name="q5" onchange="showOptionIcon('q5', 'A', 'A')" type="radio" value="A"/> A. \( x = 9 \)<span class="option-icon" id="icon-q5-A"></span></label>
<label><input name="q5" onchange="showOptionIcon('q5', 'B', 'A')" type="radio" value="B"/> B. \( x = 8 \)<span class="option-icon" id="icon-q5-B"></span></label>
<label><input name="q5" onchange="showOptionIcon('q5', 'C', 'A')" type="radio" value="C"/> C. \( x = 10 \)<span class="option-icon" id="icon-q5-C"></span></label>
<label><input name="q5" onchange="showOptionIcon('q5', 'D', 'A')" type="radio" value="D"/> D. \( x = 7 \)<span class="option-icon" id="icon-q5-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q5', 'A')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q5')">Xem lời giải</button>
<div class="solution" id="solution-q5"></div>
</div>
</div>

<!-- Câu 6 -->
<div class="question" id="q6">
<div class="summary-box">
<p><strong>Câu 6</strong>. Bảng sau thống kê thời gian tập thể dục mỗi ngày trong tháng 3/2025 của hai bạn Hưng và Bình:<br/>
<img alt="" loading="lazy" src="data/anh2/3.6.png"/><br/>

Khoảng biến thiên của mẫu số liệu ghép nhóm về thời gian tập thể dục của Hưng và Bình lần lượt là:</p>

<div class="options">
<label><input name="q6" onchange="showOptionIcon('q6', 'A', 'B')" type="radio" value="A"/> A. 20 phút và 25 phút<span class="option-icon" id="icon-q6-A"></span></label>
<label><input name="q6" onchange="showOptionIcon('q6', 'B', 'B')" type="radio" value="B"/> B. 25 phút và 20 phút<span class="option-icon" id="icon-q6-B"></span></label>
<label><input name="q6" onchange="showOptionIcon('q6', 'C', 'B')" type="radio" value="C"/> C. 20 phút và 20 phút<span class="option-icon" id="icon-q6-C"></span></label>
<label><input name="q6" onchange="showOptionIcon('q6', 'C', 'B')" type="radio" value="D"/> D. 25 phút và 25 phút<span class="option-icon" id="icon-q6-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q6', 'B')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q6')">Xem lời giải</button>
<div class="solution" id="solution-q6"></div>
</div>
</div>

<!-- Câu 7 -->
<div class="question" id="q7">
<div class="summary-box">
<p><strong>Câu 7</strong>. Họ nguyên hàm của hàm số \( y = x^3 \) là:</p>

<div class="options">
<label><input name="q7" onchange="showOptionIcon('q7', 'A', 'A')" type="radio" value="A"/> A. \( \dfrac{x^4}{4} + C \)<span class="option-icon" id="icon-q7-A"></span></label>
<label><input name="q7" onchange="showOptionIcon('q7', 'B', 'A')" type="radio" value="B"/> B. \( x^4 + C \)<span class="option-icon" id="icon-q7-B"></span></label>
<label><input name="q7" onchange="showOptionIcon('q7', 'C', 'A')" type="radio" value="C"/> C. \( \dfrac{x^2}{2} + C \)<span class="option-icon" id="icon-q7-C"></span></label>
<label><input name="q7" onchange="showOptionIcon('q7', 'D', 'A')" type="radio" value="D"/> D. \( 3x^2 + C \)<span class="option-icon" id="icon-q7-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q7', 'A')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q7')">Xem lời giải</button>
<div class="solution" id="solution-q7"></div>
</div>
</div>

<!-- Câu 8 -->
<div class="question" id="q8">
<div class="summary-box">
<p><strong>Câu 8</strong>. Cho hàm số \( y = \dfrac{ax + b}{cx + d} (c \neq 0 ; ad - bc \neq 0) \) có đồ thị như hình vẽ dưới đây:<br/>
<img alt="" loading="lazy" src="data/anh2/3.8.png"/><br/>

Đường tiệm cận đứng của đồ thị hàm số là:</p>

<div class="options">
<label><input name="q8" onchange="showOptionIcon('q8', 'A', 'B')" type="radio" value="A"/> A. \( x = 1 \)<span class="option-icon" id="icon-q8-A"></span></label>
<label><input name="q8" onchange="showOptionIcon('q8', 'B', 'B')" type="radio" value="B"/> B. \( x = -1 \)<span class="option-icon" id="icon-q8-B"></span></label>
<label><input name="q8" onchange="showOptionIcon('q8', 'C', 'B')" type="radio" value="C"/> C. \( y = -1 \)<span class="option-icon" id="icon-q8-C"></span></label>
<label><input name="q8" onchange="showOptionIcon('q8', 'D', 'B')" type="radio" value="D"/> D. \( y = 1 \)<span class="option-icon" id="icon-q8-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q8', 'B')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q8')">Xem lời giải</button>
<div class="solution" id="solution-q8"></div>
</div>
</div>

<!-- Câu 9 -->
<div class="question" id="q9">
<div class="summary-box">
<p><strong>Câu 9</strong>. Các nghiệm của phương trình \( \cos 2x = 0 \) là:</p>

<div class="options">
<label><input name="q9" onchange="showOptionIcon('q9', 'A', 'D')" type="radio" value="A"/> A. \( x = \dfrac{\pi}{2} + k\pi (k \in \mathbb{Z}) \)<span class="option-icon" id="icon-q9-A"></span></label>
<label><input name="q9" onchange="showOptionIcon('q9', 'B', 'D')" type="radio" value="B"/> B. \( x = \dfrac{\pi}{8} + k\dfrac{\pi}{2} (k \in \mathbb{Z}) \)<span class="option-icon" id="icon-q9-B"></span></label>
<label><input name="q9" onchange="showOptionIcon('q9', 'C', 'D')" type="radio" value="C"/> C. \( x = k\dfrac{\pi}{2} (k \in \mathbb{Z}) \)<span class="option-icon" id="icon-q9-C"></span></label>
<label><input name="q9" onchange="showOptionIcon('q9', 'D', 'D')" type="radio" value="D"/> D. \( x = \dfrac{\pi}{4} + k\dfrac{\pi}{2} (k \in \mathbb{Z}) \)<span class="option-icon" id="icon-q9-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q9', 'D')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q9')">Xem lời giải</button>
<div class="solution" id="solution-q9"></div>
</div>
</div>

<!-- Câu 10 -->
<div class="question" id="q10">
<div class="summary-box">
<p><strong>Câu 10</strong>. Tập nghiệm của bất phương trình \( 3^x \leq 9 \) là:</p>

<div class="options">
<label><input name="q10" onchange="showOptionIcon('q10', 'A', 'A')" type="radio" value="A"/> A. \( (-\infty ; 2] \)<span class="option-icon" id="icon-q10-A"></span></label>
<label><input name="q10" onchange="showOptionIcon('q10', 'B', 'A')" type="radio" value="B"/> B. \( [0 ; 2] \)<span class="option-icon" id="icon-q10-B"></span></label>
<label><input name="q10" onchange="showOptionIcon('q10', 'C', 'A')" type="radio" value="C"/> C. \( (0 ; 2) \)<span class="option-icon" id="icon-q10-C"></span></label>
<label><input name="q10" onchange="showOptionIcon('q10', 'D', 'A')" type="radio" value="D"/> D. \( (-\infty ; 2) \)<span class="option-icon" id="icon-q10-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q10', 'A')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q10')">Xem lời giải</button>
<div class="solution" id="solution-q10"></div>
</div>
</div>

<!-- Câu 11 -->
<div class="question" id="q11">
<div class="summary-box">
<p><strong>Câu 11</strong>. Cho cấp số nhân \( (u_n) \) với \( u_2 = 7 \) và công bội \( q = 3 \). Số hạng đầu tiên của cấp số nhân đã cho bằng:</p>

<div class="options">
<label><input name="q11" onchange="showOptionIcon('q11', 'A', 'C')" type="radio" value="A"/> A. 21<span class="option-icon" id="icon-q11-A"></span></label>
<label><input name="q11" onchange="showOptionIcon('q11', 'B', 'C')" type="radio" value="B"/> B. 4<span class="option-icon" id="icon-q11-B"></span></label>
<label><input name="q11" onchange="showOptionIcon('q11', 'C', 'C')" type="radio" value="C"/> C. \( \dfrac{7}{3} \)<span class="option-icon" id="icon-q11-C"></span></label>
<label><input name="q11" onchange="showOptionIcon('q11', 'D', 'C')" type="radio" value="D"/> D. \( \dfrac{3}{7} \)<span class="option-icon" id="icon-q11-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q11', 'C')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q11')">Xem lời giải</button>
<div class="solution" id="solution-q11"></div>
</div>
</div>

<!-- Câu 12 -->
<div class="question" id="q12">
<div class="summary-box">
<p><strong>Câu 12</strong>. Cho hình chóp \( S.ABCD \) có đáy \( ABCD \) là hình bình hành tâm \( O \), \( SA = SC \), \( SB = SD \). Trong các khẳng định sau, khẳng định nào đúng?</p>

<div class="options">
<label><input name="q12" onchange="showOptionIcon('q12', 'A', 'B')" type="radio" value="A"/> A. \( SD \perp (ABCD) \)<span class="option-icon" id="icon-q12-A"></span></label>
<label><input name="q12" onchange="showOptionIcon('q12', 'B', 'B')" type="radio" value="B"/> B. \( SO \perp (ABCD) \)<span class="option-icon" id="icon-q12-B"></span></label>
<label><input name="q12" onchange="showOptionIcon('q12', 'C', 'B')" type="radio" value="C"/> C. \( SA \perp (ABCD) \)<span class="option-icon" id="icon-q12-C"></span></label>
<label><input name="q12" onchange="showOptionIcon('q12', 'D', 'B')" type="radio" value="D"/> D. \( SC \perp (ABCD) \)<span class="option-icon" id="icon-q12-D"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkAnswer('q12', 'B')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q12')">Xem lời giải</button>
<div class="solution" id="solution-q12"></div>
</div>
</div>
<h3>Phần II: Trắc Nghiệm Đúng/Sai - từ câu 13 đến câu 16</h3>

<!-- Câu 13 -->
<div class="question" id="q13">
<div class="summary-box">
<p><strong>Câu 13</strong>. Một vật chuyển động thẳng có đồ thị vận tốc - thời gian như hình bên:<br/>
<img alt="" loading="lazy" src="data/anh2/3.13.png"/><br/>
<div class="options">
<p>a) Tổng quãng đường vật đi được trong 60(s) đầu tiên là 650(m).</p>
<label><input name="q13a" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q13a-Đúng"></span></label>
<label><input name="q13a" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q13a-Sai"></span></label>
<p>b) Trong khoảng thời gian từ 0(s) đến 10(s), phương trình vận tốc của vật là \( v(t) = \frac{1}{2}t + 10 \, (\mathrm{m/s}) \).</p>
<label><input name="q13b" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q13b-Đúng"></span></label>
<label><input name="q13b" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q13b-Sai"></span></label>
<p>c) Trong khoảng thời gian từ 30(s) đến 60(s), phương trình vận tốc của vật là \( v(t) = -\frac{1}{2}t + 30 \, (\mathrm{m/s}) \).</p>
<label><input name="q13c" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q13c-Đúng"></span></label>
<label><input name="q13c" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q13c-Sai"></span></label>
<p>d) Trong khoảng thời gian từ 10(s) đến 30(s), vật chuyển động đều.</p>
<label><input name="q13d" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q13d-Đúng"></span></label>
<label><input name="q13d" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q13d-Sai"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkTrueFalseAnswer('q13', ['Đúng', 'Đúng', 'Đúng', 'Đúng'])">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q13')">Xem lời giải</button>
<div class="solution" id="solution-q13"></div>
</div>
</div>

<!-- Câu 14 -->
<div class="question" id="q14">
<div class="summary-box">
<p><strong>Câu 14</strong>. Một cabin cáp treo xuất phát từ điểm \( A(10 ; 3 ; 0) \) và chuyển động đều theo đường cáp có vector chỉ phương là \( \vec{u} = (2 ; -2 ; 1) \) với tốc độ là \( 5 \, \mathrm{m/s} \).</p>
<img alt="" loading="lazy" src="data/anh2/3.14.png"/><br/>

<div class="options">
<p>a) Cabin dừng ở điểm \( B \) có hoành độ \( x_B = 550 \). Khi đó quãng đường \( AB \) có độ dài \( 810 \, \mathrm{m} \).</p>
<label><input name="q14a" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q14a-Đúng"></span></label>
<label><input name="q14a" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q14a-Sai"></span></label>
<p>b) Đường cáp \( AB \) tạo với mặt phẳng \( (Oxy) \) một góc \( 22^\circ \).</p>
<label><input name="q14b" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q14b-Đúng"></span></label>
<label><input name="q14b" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q14b-Sai"></span></label>
<p>c) Phương trình chính tắc của đường cáp là \( \frac{x-10}{2} = \frac{y-3}{-2} = \frac{z}{1} \).</p>
<label><input name="q14c" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q14c-Đúng"></span></label>
<label><input name="q14c" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q14c-Sai"></span></label>
<p>d) Giả sử sau \( t \) giây kể từ lúc xuất phát (\( t \geq 0 \)), cabin đến vị trí điểm \( M \). Khi đó tọa độ của điểm \( M \) là \( \left( \frac{10}{3}t + 10 ; -\frac{10}{3}t + 3 ; \frac{5}{3}t \right) \).</p>
<label><input name="q14d" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q14d-Đúng"></span></label>
<label><input name="q14d" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q14d-Sai"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkTrueFalseAnswer('q14', ['Đúng', 'Sai', 'Đúng', 'Sai'])">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q14')">Xem lời giải</button>
<div class="solution" id="solution-q14"></div>
</div>
</div>

<!-- Câu 15 -->
<div class="question" id="q15">
<div class="summary-box">
<p><strong>Câu 15</strong>. Cho hàm số \( f(x) = \sin x - e^x \).</p>

<div class="options">
<p>a) Giá trị nhỏ nhất của hàm số \( f(x) \) trên đoạn \( \left[0 ; \frac{\pi}{2}\right] \) là -1.</p>
<label><input name="q15a" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q15a-Đúng"></span></label>
<label><input name="q15a" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q15a-Sai"></span></label>
<p>b) Nghiệm của phương trình \( f'(x) = 0 \) trên đoạn \( \left[0 ; \frac{\pi}{2}\right] \) là \( x = 0 \).</p>
<label><input name="q15b" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q15b-Đúng"></span></label>
<label><input name="q15b" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q15b-Sai"></span></label>
<p>c) Đạo hàm của hàm số đã cho là \( f'(x) = \cos x - e^x, \forall x \in \mathbb{R} \).</p>
<label><input name="q15c" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q15c-Đúng"></span></label>
<label><input name="q15c" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q15c-Sai"></span></label>
<p>d) \( f(\pi) = 1 - e^\pi ; f(0) = -2 \).</p>
<label><input name="q15d" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q15d-Đúng"></span></label>
<label><input name="q15d" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q15d-Sai"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkTrueFalseAnswer('q15', ['Sai', 'Đúng', 'Đúng', 'Sai'])">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q15')">Xem lời giải</button>
<div class="solution" id="solution-q15"></div>
</div>
</div>

<!-- Câu 16 -->
<div class="question" id="q16">
<div class="summary-box">
<p><strong>Câu 16</strong>. Một công ty đấu thầu hai dự án. Khả năng thắng thầu của dự án I là 0,5 và khả năng thắng thầu dự án II là 0,6. Khả năng thắng thầu của hai dự án là 0,4. Gọi \( A \) là biến cố: "Thắng thầu dự án I". Gọi \( B \) là biến cố: "Thắng thầu dự án II".</p>

<div class="options">
<p>a) Xác suất để công ty thắng thầu dự án II biết công ty không thắng thầu dự án I là 0,2.</p>
<label><input name="q16a" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q16a-Đúng"></span></label>
<label><input name="q16a" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q16a-Sai"></span></label>
<p>b) Xác suất để công ty thắng thầu đúng một dự án bằng 0,5.</p>
<label><input name="q16b" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q16b-Đúng"></span></label>
<label><input name="q16b" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q16b-Sai"></span></label>
<p>c) Xác suất để công ty thắng thầu dự án II biết công ty thắng thầu dự án I là 0,8.</p>
<label><input name="q16c" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q16c-Đúng"></span></label>
<label><input name="q16c" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q16c-Sai"></span></label>
<p>d) \( A \) và \( B \) là hai biến cố độc lập.</p>
<label><input name="q16d" type="radio" value="Đúng"/> Đúng<span class="option-icon" id="icon-q16d-Đúng"></span></label>
<label><input name="q16d" type="radio" value="Sai"/> Sai<span class="option-icon" id="icon-q16d-Sai"></span></label>
</div></div>
<div class="answer-check">
<button onclick="checkTrueFalseAnswer('q16', ['Sai', 'Sai', 'Đúng', 'Sai'])">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q16')">Xem lời giải</button>
<div class="solution" id="solution-q16"></div>
</div>
</div>
<h3>Phần III: Trắc Nghiệm Trả Lời Ngắn - từ câu 17 đến câu 22</h3>

<!-- Câu 17 -->
<div class="question" id="q17">
<div class="summary-box">
<p><strong>Câu 17</strong>. Câu lạc bộ thiện nguyện của một trường THPT dự định làm các bình hoa bằng giấy để bán trong một hội chợ gây quỹ từ thiện. Cần 1 giờ để làm một bình hoa nhỏ và sẽ bán với giá 100 nghìn đồng và 90 phút để làm một bình hoa lớn và bán với giá 200 nghìn đồng. Biết rằng câu lạc bộ có 30 giờ để làm các bình hoa và muốn tổng số bình hoa không quá 24 bình. Số tiền lớn nhất mà câu lạc bộ có thể thu được là bao nhiêu triệu đồng?</p>
</div>
<div class="answer-check">
<input type="text" id="input-q17" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q17', '1800')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q17')">Xem lời giải</button>
<div class="solution" id="solution-q17"></div>
<div class="answer-feedback" id="feedback-q17"></div>
</div>
</div>

<!-- Câu 18 -->
<div class="question" id="q18">
<div class="summary-box">
<p><strong>Câu 18</strong>. Một mảnh sân hình chữ nhật có chiều dài 120 m, chiều rộng 60 m. Hai đường parabol được thiết kế đối xứng với nhau qua trục đối xứng vuông góc với chiều dài của mảnh sân, (C) là đường tròn có tâm trùng với tâm của mảnh sân và lần lượt có duy nhất một điểm chung với các parabol đó. Chi phí cho phần lát gạch là 240 nghìn đồng mỗi mét vuông. Trong trường hợp hình tròn (C) có diện tích lớn nhất thì chi phí của phần lát gạch là bao nhiêu triệu đồng?</p>
<img alt="" loading="lazy" src="data/anh2/3.18.png"/><br/>
</div>
<div class="answer-check">
<input type="text" id="input-q18" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q18', '12,4')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q18')">Xem lời giải</button>
<div class="solution" id="solution-q18"></div>
<div class="answer-feedback" id="feedback-q18"></div>
</div>
</div>

<!-- Câu 19 -->
<div class="question" id="q19">
<div class="summary-box">
<p><strong>Câu 19</strong>. Một bình đựng 50 viên bi có kích thước, chất liệu như nhau; trong đó có 30 viên bi màu đen và 20 viên bi màu trắng. Lấy ngẫu nhiên ra 5 viên bi. Gọi \( X \) là số viên bi màu đen trong 5 viên bi được lấy ra. Giá trị của \( \mathbb{E}(X) \) bằng bao nhiêu?</p>
</div>
<div class="answer-check">
<input type="text" id="input-q19" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q19', '0,24')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q19')">Xem lời giải</button>
<div class="solution" id="solution-q19"></div>
<div class="answer-feedback" id="feedback-q19"></div>
</div>
</div>

<!-- Câu 20 -->
<div class="question" id="q20">
<div class="summary-box">
<p><strong>Câu 20</strong>. Một cơ sở sản xuất quần áo trẻ em đang bán mỗi bộ quần áo với giá 80 nghìn đồng một bộ và mỗi tháng cơ sở bán được trung bình 1200 bộ quần áo. Cơ sở sản xuất đang có kế hoạch tăng giá bán để có lợi nhuận tốt hơn. Sau khi tham khảo thị trường, người quản lý thấy rằng nếu từ mức 80 nghìn đồng mà cứ mỗi lần tăng thêm 5 nghìn đồng mỗi bộ quần áo thì mỗi tháng sẽ bán ít đi 100 bộ. Biết vốn sản xuất một bộ quần áo không thay đổi là 50 nghìn đồng. Để lợi nhuận thu được lớn nhất thì cơ sở sản xuất đưa ra giá bán cho một bộ quần áo là bao nhiêu nghìn đồng?</p>
</div>
<div class="answer-check">
<input type="text" id="input-q20" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q20', '95')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q20')">Xem lời giải</button>
<div class="solution" id="solution-q20"></div>
<div class="answer-feedback" id="feedback-q20"></div>
</div>
</div>

<!-- Câu 21 -->
<div class="question" id="q21">
<div class="summary-box">
<p><strong>Câu 21</strong>. Trong không gian, chọn hệ trục tọa độ cho trường, đơn vị đo lấy kilômét, radar phát hiện một máy bay bay chuyển động với vận tốc và hướng không đổi từ điểm \( M(500; 200; 8) \) đến điểm \( N(800; 300; 10) \) trong 20 phút. Nếu máy bay tiếp tục giữ nguyên vận tốc và hướng bay thì tọa độ của máy bay sau 5 phút tiếp theo là \( (a; b; c) \) với \( a \in \mathbb{N} \). Tính \( a \).</p>
</div>
<div class="answer-check">
<input type="text" id="input-q21" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q21', '875')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q21')">Xem lời giải</button>
<div class="solution" id="solution-q21"></div>
<div class="answer-feedback" id="feedback-q21"></div>
</div>
</div>

<!-- Câu 22 -->
<div class="question" id="q22">
<div class="summary-box">
<p><strong>Câu 22</strong>. Một tòa nhà có hình dạng là một hình chóp tứ giác đều có cạnh đáy là 160 m và cạnh bên là 140 m. Giả sử từ một mặt bên của tòa nhà ta cần thiết kế con đường ngắn nhất để di chuyển đến tâm của đáy tòa nhà, khi đó quãng đường ngắn nhất có độ dài khoảng bao nhiêu mét?</p>
</div>
<div class="answer-check">
<input type="text" id="input-q22" placeholder="Nhập đáp án">
<button onclick="checkShortAnswer('q22', '57,4')">Kiểm tra</button>
<button class="solution-toggle" onclick="toggleSolution('solution-q22')">Xem lời giải</button>
<div class="solution" id="solution-q22"></div>
<div class="answer-feedback" id="feedback-q22"></div>
</div>
</div>





 <div class="score-section">
 <h3>Tính tổng điểm</h3>
    <p>Nhập họ và tên:</p>
    <input id="student-name" type="text" placeholder="Họ và tên"/>   
<button onclick="calculateScore()">Tính điểm</button>
<div id="score-result"></div>
</div>

  <script>
    function showOptionIcon(questionId, selectedValue, correctAnswer) {
      if (!checkedQuestions[questionId]) return;
      ['A', 'B', 'C', 'D'].forEach(letter => {
        const iconSpan = document.getElementById(`icon-${questionId}-${letter}`);
        if (iconSpan) iconSpan.innerHTML = '';
      });
      const icon = selectedValue === correctAnswer ? '✅' : '❌';
      const selectedSpan = document.getElementById(`icon-${questionId}-${selectedValue}`);
      if (selectedSpan) selectedSpan.innerHTML = icon;
    }

    function showTFOptionIcon(name, selectedValue, correctValue, questionId) {
      if (!checkedQuestions[questionId]) return;
      const icon = selectedValue === correctValue ? '✅' : '❌';
      const span = document.getElementById(`icon-${name}`);
      if (span) span.innerHTML = icon;
    }

    
    function lockQuestionInputs(questionId) {
    const radios = document.querySelectorAll(`input[name="${questionId}"]`);
    radios.forEach(input => input.disabled = true);
}

    function addSolutionLink(questionId, url) {
      if (!checkedQuestions[questionId]) return;
      const container = document.getElementById(`feedback-${questionId}`);
      if (container && !container.querySelector("a")) {
        const link = document.createElement("a");
        link.href = url;
        link.target = "_blank";
        link.style.marginLeft = "10px";
        link.textContent = "Xem lời giải";
        container.appendChild(link);
      }
    }

    var studentAnswers = {};
    var checkedQuestions = {};
    var isScoreCalculated = false;

    function checkAnswer(questionId, correctAnswer) {
      if (checkedQuestions[questionId]) return;
      const inputs = document.getElementsByName(questionId);
      let selectedAnswer = null;
      for (let input of inputs) {
        if (input.checked) {
          selectedAnswer = input.value;
          break;
        }
      }
      studentAnswers[questionId] = selectedAnswer;
      checkedQuestions[questionId] = true;
      lockQuestionInputs(questionId);
      showOptionIcon(questionId, selectedAnswer, correctAnswer);
      addSolutionLink(questionId, `giai/${questionId}.html`);
    }

    function checkTrueFalseAnswer(questionId, correctAnswers) {
  for (let i = 0; i < correctAnswers.length; i++) {
    const name = questionId + String.fromCharCode(97 + i);
    const inputs = document.getElementsByName(name);
    let selected = '';
    for (const input of inputs) {
      if (input.checked) {
        selected = input.value;
        break;
      }
    }

    const iconId = `icon-${name}`;
    let icon = document.getElementById(iconId);
    if (!icon && inputs.length) {
      icon = document.createElement('span');
      icon.id = iconId;
      icon.className = 'option-icon';
      inputs[0].parentNode.appendChild(icon);
    }
    if (icon) {
      icon.innerHTML = selected === correctAnswers[i] ? '✅' : '❌';
    }
  }
}
   function checkShortAnswer(questionId, correctAnswer) {
      if (checkedQuestions[questionId]) return;
      const input = document.getElementById('input-' + questionId);
      const feedback = document.getElementById('feedback-' + questionId);

      // Tự động tạo span hiển thị nếu chưa tồn tại
      let icon = document.getElementById('icon-' + questionId);
      if (!icon && input) {
        icon = document.createElement('span');
        icon.id = 'icon-' + questionId;
        icon.className = 'option-icon';
        icon.setAttribute('aria-label', 'Biểu tượng kiểm tra');
        input.insertAdjacentElement('afterend', icon);
      }

      if (!input) {
        feedback.innerHTML = 'Lỗi: Không tìm thấy input cho câu hỏi!';
        feedback.className = 'answer-feedback incorrect';
        return;
      }

      const value = input.value.trim();
      if (value === '') {
        feedback.innerHTML = 'Vui lòng nhập đáp án!';
        feedback.className = 'answer-feedback incorrect';
        if (icon) icon.innerHTML = '';
        return;
      }

      if (!isNaN(correctAnswer)) {
        const numeric = parseFloat(value);
        if (isNaN(numeric)) {
          feedback.innerHTML = 'Vui lòng nhập một số hợp lệ!';
          feedback.className = 'answer-feedback incorrect';
          if (icon) icon.innerHTML = '';
          return;
        }
        const correct = parseFloat(correctAnswer);
        if (Math.abs(numeric - correct) < 0.001) {
          feedback.innerHTML = 'Đúng!';
          feedback.className = 'answer-feedback correct';
          studentAnswers[questionId] = numeric;
          if (icon) icon.innerHTML = '✅';
        } else {
          feedback.innerHTML = 'Sai!';
          feedback.className = 'answer-feedback incorrect';
          studentAnswers[questionId] = numeric;
          if (icon) icon.innerHTML = '❌';
        }
      } else {
        if (value === correctAnswer) {
          feedback.innerHTML = 'Đúng';
            feedback.className = 'answer-feedback correct';
          studentAnswers[questionId] = value;
          if (icon) icon.innerHTML = '✅';
        } else {
          feedback.innerHTML = 'Sai!';
          feedback.className = 'answer-feedback incorrect';
          studentAnswers[questionId] = value;
          if (icon) icon.innerHTML = '❌';
        }
      }
}
    function calculateScore() {
  if (isScoreCalculated) return;
/* @@ */
  const correctAnswers = {
    q1: 'B',
    q2: 'A',
    q3: 'C',
    q4: 'B',
    q5: 'A',
    q6: 'B',
    q7: 'A',
    q8: 'B',
    q9: 'D',
    q10: 'A',
    q11: 'C',
    q12: 'B',
    q13: ['Đúng',  'Đúng', 'Đúng', 'Đúng'],
    q14: ['Đúng', 'Sai','Đúng',  'Sai'],
    q15: ['Sai', 'Đúng', 'Đúng', 'Sai'],
    q16: ['Sai', 'Sai', 'Đúng','Sai'],
    q17: '1800',
    q18: '12,4',
    q19: '0,24',
    q20: '95',
    q21: '875',
    q22: '55,4'
  };

  let studentAnswers = {};

  // Câu 1 → 12: Trắc nghiệm ABCD
  for (let i = 1; i <= 12; i++) {
    const name = 'q' + i;
    const selected = document.querySelector(`input[name="${name}"]:checked`);
    if (selected) {
      studentAnswers[name] = selected.value.trim();
    }
  }

  // Câu 13 → 16: Đúng / Sai từng mệnh đề
  for (let i = 13; i <= 16; i++) {
    const subAnswers = [];
    ['a', 'b', 'c', 'd'].forEach(letter => {
      const inputName = `q${i}${letter}`;
      const selected = document.querySelector(`input[name="${inputName}"]:checked`);
      if (selected) {
        subAnswers.push(selected.value.trim());
      } else {
        subAnswers.push(''); // Không chọn gì
      }
    });
    studentAnswers['q' + i] = subAnswers;
    console.log(`q${i}:`, subAnswers);  // Ghi ra console
  }

  // Câu 17 → 22: Tự luận (text input)
  // Câu 17 → 22: Tự luận (text input)
for (let i = 17; i <= 22; i++) {
  const input = document.getElementById(`input-q${i}`);
  if (input) {
    studentAnswers['q' + i] = input.value.trim().replace(',', '.');
  }
}
  // Bắt đầu tính điểm
  let totalScore = 0;

  for (let i = 1; i <= 22; i++) {
    const key = 'q' + i;
    const userAns = studentAnswers[key];
    const correctAns = correctAnswers[key];

    if (i >= 1 && i <= 12) {
      if (userAns && userAns === correctAns) totalScore += 0.25;
    } else if (i >= 13 && i <= 16) {
      if (Array.isArray(userAns) && Array.isArray(correctAns)) {
        let correctCount = 0;
        for (let j = 0; j < correctAns.length; j++) {
          if (userAns[j] === correctAns[j]) correctCount++;
        }
        console.log(`Câu ${key} đúng ${correctCount} phần`);
        if (correctCount === 1) totalScore += 0.1;
        else if (correctCount === 2) totalScore += 0.25;
        else if (correctCount === 3) totalScore += 0.5;
        else if (correctCount === 4) totalScore += 1;
      }
    } else if (i >= 17 && i <= 22) {
      const user = parseFloat(userAns?.toString().replace(',', '.'));
      const correct = parseFloat(correctAns?.toString().replace(',', '.'));
      if (!isNaN(user) && !isNaN(correct) && Math.abs(user - correct) < 0.001) {
        totalScore += 0.5;
      }
    }
    }
  const scoreElement = document.getElementById("score-result");
  scoreElement.textContent = `Tổng điểm của bạn: ${totalScore.toFixed(2)} / 10`;
  scoreElement.className = "correct";
  isScoreCalculated = true;
}

let allowShowSolution = true; // Đặt thành false nếu muốn khóa lời giải

  function toggleSolution(id) {
    if (!allowShowSolution) {
      alert("Lời giải đang bị khóa. Liên hệ giáo viên để mở.");
      return;
    }
    const el = document.getElementById(id);
    if (el) {
      el.classList.toggle("hidden");
      el.classList.toggle('visible');
    }
  }

  function showVideoSolution(url, qid) {
    if (!allowShowSolution) {
      alert("Lời giải đang bị khóa. Liên hệ giáo viên để mở.");
      return;
    }
    window.open(url, '_blank');
  }
   </script>
    <script src="recorder.js"></script>
    <script>
const canvas = document.getElementById("drawCanvas");
const ctx = canvas.getContext("2d");
const toggleBtn = document.getElementById("toggleDraw");
const toolbar = document.getElementById("drawToolbar");
const clearBtn = document.getElementById("clearBtn");
const saveBtn = document.getElementById("saveBtn");
const exitBtn = document.getElementById("exitBtn");
const colorPicker = document.getElementById("colorPicker");
const toolSelect = document.getElementById("tool");
const widthPicker = document.getElementById("draw-width");
let lineWidth = 2;

widthPicker.oninput = () => {
  lineWidth = parseInt(widthPicker.value);
};
let isDrawing = false;
let isDrawMode = false;
let startX = 0, startY = 0;
let currentTool = "pen";
let imageBeforeShape;

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

toggleBtn.onclick = () => {
  isDrawMode = true;
  canvas.style.display = "block";
  toolbar.style.display = "flex";
};

exitBtn.onclick = () => {
  isDrawMode = false;
  canvas.style.display = "none";
  toolbar.style.display = "none";
};

toolSelect.onchange = () => currentTool = toolSelect.value;
clearBtn.onclick = () => {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Ghi một ảnh rỗng lên Firebase để đồng bộ xoá cho mọi người
  if (typeof saveDrawingToFirebase === "function") {
    saveDrawingToFirebase(); // Lưu canvas trống
  }
};

saveBtn.onclick = () => {
  const link = document.createElement("a");
  link.download = "ban_ve.png";
  link.href = canvas.toDataURL();
  link.click();
};

function getPos(e) {
  if (e.touches && e.touches.length > 0) {
    return { x: e.touches[0].clientX, y: e.touches[0].clientY };
  }
  return { x: e.clientX, y: e.clientY };
}

function startDraw(e) {
  if (!isDrawMode) return;
  e.preventDefault();
  const pos = getPos(e);
  isDrawing = true;
  startX = pos.x;
  startY = pos.y;
  if (currentTool !== "pen") {
    imageBeforeShape = ctx.getImageData(0, 0, canvas.width, canvas.height);
  } else {
    ctx.beginPath();
    ctx.moveTo(startX, startY);
  }
}

function drawMove(e) {
  if (!isDrawing || !isDrawMode) return;
  const pos = getPos(e);
  ctx.strokeStyle = colorPicker.value;
  ctx.lineWidth = lineWidth;
  ctx.lineCap = "round";

  if (currentTool === "pen") {
    ctx.lineTo(pos.x, pos.y);
    ctx.stroke();
  } else {
    ctx.putImageData(imageBeforeShape, 0, 0);
    if (currentTool === "line") {
      ctx.beginPath();
      ctx.moveTo(startX, startY);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
    } else if (currentTool === "rect") {
      ctx.strokeRect(startX, startY, pos.x - startX, pos.y - startY);
    } else if (currentTool === "circle") {
      const radius = Math.hypot(pos.x - startX, pos.y - startY);
      ctx.beginPath();
      ctx.arc(startX, startY, radius, 0, Math.PI * 2);
      ctx.stroke();
    }
    else if (currentTool === "cube") {
  // Vẽ hình lập phương 3D đơn giản
  let size = Math.min(Math.abs(pos.x - startX), Math.abs(pos.y - startY));
  ctx.strokeRect(startX, startY, size, size);
  ctx.strokeRect(startX + 10, startY - 10, size, size);
  ctx.beginPath();
  ctx.moveTo(startX, startY);
  ctx.lineTo(startX + 10, startY - 10);
  ctx.moveTo(startX + size, startY);
  ctx.lineTo(startX + size + 10, startY - 10);
  ctx.moveTo(startX, startY + size);
  ctx.lineTo(startX + 10, startY + size - 10);
  ctx.moveTo(startX + size, startY + size);
  ctx.lineTo(startX + size + 10, startY + size - 10);
  ctx.stroke();
}
else if (currentTool === "cone") {
  let radius = Math.abs(pos.x - startX);
  ctx.beginPath();
  ctx.ellipse(startX, startY + 40, radius, 10, 0, 0, Math.PI * 2);
  ctx.moveTo(startX - radius, startY + 40);
  ctx.lineTo(startX, startY - 40);
  ctx.lineTo(startX + radius, startY + 40);
  ctx.stroke();
}
else if (currentTool === "cylinder") {
  let r = Math.abs(pos.x - startX);
  ctx.beginPath();
  ctx.ellipse(startX, startY, r, 10, 0, 0, Math.PI * 2);
  ctx.moveTo(startX - r, startY);
  ctx.lineTo(startX - r, startY + 100);
  ctx.moveTo(startX + r, startY);
  ctx.lineTo(startX + r, startY + 100);
  ctx.ellipse(startX, startY + 100, r, 10, 0, 0, Math.PI);
  ctx.stroke();
}
else if (currentTool === "pyramid") {
  ctx.beginPath();
  ctx.moveTo(startX, startY);
  ctx.lineTo(startX + 60, startY);
  ctx.lineTo(startX + 30, startY + 60);
  ctx.closePath();
  ctx.moveTo(startX + 30, startY + 60);
  ctx.lineTo(startX + 30, startY - 40);
  ctx.stroke();
}
else if (currentTool === "sphere") {
  let r = Math.abs(pos.x - startX);
  ctx.beginPath();
  ctx.arc(startX, startY, r, 0, Math.PI * 2);
  ctx.moveTo(startX - r, startY);
  ctx.ellipse(startX, startY, r, r / 2, 0, 0, Math.PI * 2);
  ctx.stroke();
}

  }
}


function endDraw() {
  if (!isDrawMode) return;
  isDrawing = false;

  // Sau khi vẽ xong, lưu lên Firebase
  if (typeof saveDrawingToFirebase === "function") {
    saveDrawingToFirebase();
  }
}


canvas.addEventListener("mousedown", startDraw);
canvas.addEventListener("mousemove", drawMove);
canvas.addEventListener("mouseup", endDraw);
canvas.addEventListener("touchstart", startDraw, { passive: false });
canvas.addEventListener("touchmove", drawMove, { passive: false });
canvas.addEventListener("touchend", endDraw);
</script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getFirestore, doc, onSnapshot, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDDACFZgZazMOnjzmGM_lrKswVcsoTFHxA",
    authDomain: "veonline-3bcbf.firebaseapp.com",
    projectId: "veonline-3bcbf",
    storageBucket: "veonline-3bcbf.appspot.com",
    messagingSenderId: "83902304195",
    appId: "1:83902304195:web:2f9ec1ee0c23d6e21bb776"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const canvas = document.getElementById("drawCanvas");
  const ctx = canvas.getContext("2d");

  // Cập nhật vẽ khi người khác cập nhật
  const docRef = doc(db, "sharedDrawing", "canvasImage");
  onSnapshot(docRef, (docSnap) => {
    const data = docSnap.data();
    if (data?.image && !window.isDrawing) {
      const img = new Image();
      img.onload = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0);
      };
      img.src = data.image;
    }
  });

  // Ghi ảnh lên Firestore
  window.saveDrawingToFirebase = async function () {
    const imageData = canvas.toDataURL();
    await setDoc(docRef, {
      image: imageData,
      timestamp: serverTimestamp()
    });
  };
</script>

<script>
  // Thêm cấu hình Firebase (thay bằng giá trị thực tế bạn sao chép từ Firebase Console)
  const firebaseConfig = {
    apiKey: "AIzaSyDDACFZgZazMOnjzmGM_lrKswVcsoTFHxA",
  authDomain: "veonline-3bcbf.firebaseapp.com",
  projectId: "veonline-3bcbf",
  storageBucket: "veonline-3bcbf.firebasestorage.app",
  messagingSenderId: "83902304195",
  appId: "1:83902304195:web:2f9ec1ee0c23d6e21bb776",
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  // Theo dõi dữ liệu vẽ từ Firestore theo thời gian thực
db.collection("sharedDrawing").doc("canvasImage").onSnapshot((doc) => {
  if (doc.exists && !isDrawing) {
    const data = doc.data();
    if (data.image) {
      const img = new Image();
      img.onload = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0);
      };
      img.src = data.image;
    }
  }
});

</script>


</body>
</html>
